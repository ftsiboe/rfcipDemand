% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fcip_demand_sys_estimate.R
\name{fcip_demand_sys_restricted}
\alias{fcip_demand_sys_restricted}
\title{Optional restricted NLSUR step (when \code{restrict = TRUE})}
\usage{
fcip_demand_sys_restricted(
  restrict,
  res,
  fit,
  data,
  outcome,
  tilda_endogenous,
  tilda_excluded,
  tilda_included
)
}
\arguments{
\item{restrict}{Logical flag; when \code{TRUE} attempt the restricted step.}

\item{res}{Coefficient table from the unrestricted system (used to check signs).}

\item{fit}{Fitted \code{systemfit} object from the unrestricted system.}

\item{data}{Estimation data used to fit the restricted NLSUR model.}

\item{outcome}{Character vector of outcome equation names (length 2 expected).}

\item{tilda_endogenous}{Character vector of endogenous regressors used in the
tilded system (e.g., \code{"tilda_z1"}).}

\item{tilda_excluded}{Character vector of excluded instruments (e.g., \code{"instr_z1"}).}

\item{tilda_included}{Character vector of included regressors (\code{"tilda_x1"}, ...).}
}
\value{
A \code{data.frame} with rows for \code{gamma}, \code{theta}, and \code{total}
labeled \code{restricted_*}, or an empty \code{data.frame} if skipped.
}
\description{
If enabled and feasible, estimates a nonlinear SUR with re-parameterized
coefficients (negative exponents) using the optional \pkg{nlsur} package and
appends "restricted_" rows to the results. Skips gracefully if \pkg{nlsur}
is not installed or the step fails.
}
\note{
This step uses \code{nlsur::nlsur()} if available; it is optional and
should be listed under \code{Suggests} in \code{DESCRIPTION}.
}
