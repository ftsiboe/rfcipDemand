% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fcip_demand_data_dispatcher.R
\name{fcip_demand_data_controls}
\alias{fcip_demand_data_controls}
\title{Add recodes, prices, instruments, rental rates, and price index}
\usage{
fcip_demand_data_controls(df)
}
\arguments{
\item{df}{A \code{data.table} produced by \code{\link[=fcip_demand_data_prep_sob]{fcip_demand_data_prep_sob()}}.}
}
\value{
The same \code{data.table} with added columns:
\code{price}, \code{tau}, \code{subsidy_rate_65}, \code{subsidy_rate_75}, \code{rent}, \code{index_for_price_recived}.
}
\description{
Adds commodity prices (ADM; projected price with fallback to harvest price),
instruments (\code{tau} plus benchmark subsidy rates 65/75), state-level land rental rates,
and NASS "index for price received". Also performs within-group price imputation to fill
sparse county-year * crop-type-practice cells.
}
\note{
Column name \code{index_for_price_recived} follows the source spelling.
}
\section{Data sources}{

\itemize{
\item ADM price release: \code{adm_extracts/fcip_commodity_price.rds}
\item Instrument release: \code{reps/fcip_demand_instruments.rds} (uses \code{tau_adm}, fallback \code{tau_sob})
\item Assumes in-memory tables: \code{nass_state_rental_rates}, \code{nass_index_for_price_recived}
}
}

\seealso{
Other FCIP Demand Estimation: 
\code{\link{estimate_fcip_instruments}()},
\code{\link{fcip_demand_data_dispatcher}()},
\code{\link{fcip_demand_data_finalize}()},
\code{\link{fcip_demand_data_prep_sob}()},
\code{\link{fcip_demand_data_reconcile_acreage}()},
\code{\link{get_yu2018_instrument}()}
}
\concept{FCIP Demand Estimation}
